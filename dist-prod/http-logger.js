"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.httpLogger=exports.HttpLogger=void 0;const http_config_1=require("./http-config");class HttpLogger{constructor(){this.config={enabled:!0,level:http_config_1.DebugLevel.ERROR,format:"console",colors:!0}}static getInstance(){return HttpLogger.instance||(HttpLogger.instance=new HttpLogger),HttpLogger.instance}configure(t){this.config={...this.config,...t}}logError(t){if(!this.config.enabled||this.config.level<http_config_1.DebugLevel.ERROR)return;const{error:o,status:e,details:r}=t;if(!o)return;const s={message:o,status:e,details:r?{description:r.description,cause:r.cause,solution:r.solution}:void 0};"json"===this.config.format?console.error(JSON.stringify(s,null,2)):this.logFormattedError(s)}logFormattedError(t){const{message:o,status:e,details:r}=t,s=this.config.colors?"[31m":"",n=this.config.colors?"[0m":"";console.error(`${s}Error (${e}):${n} ${o}`),r&&(console.error(`${s}Description:${n} ${r.description}`),console.error(`${s}Cause:${n} ${r.cause}`),console.error(`${s}Solution:${n} ${r.solution}`))}}exports.HttpLogger=HttpLogger,exports.httpLogger=HttpLogger.getInstance();