"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.errorHandler=void 0;const axios_1=require("axios"),http_errors_1=require("../../http-errors"),http_logger_1=require("../../http-logger");exports.errorHandler={handleError(r){var t,e,o,s,i,l;let a;if(r instanceof http_errors_1.HttpTimeoutError)a={data:null,error:(null===(t=r.details)||void 0===t?void 0:t.description)||http_errors_1.HttpTimeoutError.ERROR_MESSAGES.TIMEOUT,status:408,details:r.details};else if((0,axios_1.isAxiosError)(r)){const t=new http_errors_1.HttpAxiosError;a={data:null,error:(null===(e=t.details)||void 0===e?void 0:e.description)||http_errors_1.HttpAxiosError.ERROR_MESSAGES.AXIOS_ERROR,status:(null===(o=r.response)||void 0===o?void 0:o.status)||0,details:t.details}}else if(r instanceof http_errors_1.HttpAbortedError)a={data:null,error:(null===(s=r.details)||void 0===s?void 0:s.description)||http_errors_1.HttpAbortedError.ERROR_MESSAGES.ABORTED,status:0,details:r.details};else if(r instanceof Error&&"TokenExpired"===r.message){const r=new http_errors_1.HttpAuthError;a={data:null,error:(null===(i=r.details)||void 0===i?void 0:i.description)||http_errors_1.HttpAuthError.ERROR_MESSAGES.SESSION_EXPIRED,status:401,details:r.details}}else if(r instanceof Error)a={data:null,error:r.message||http_errors_1.HttpNetworkError.ERROR_MESSAGES.NETWORK,status:0,details:r.details};else{const r=new http_errors_1.HttpUnknownError;a={data:null,error:(null===(l=r.details)||void 0===l?void 0:l.description)||http_errors_1.HttpUnknownError.ERROR_MESSAGES.UNKNOWN,status:0,details:r.details}}return http_logger_1.httpLogger.logError(a),a}};