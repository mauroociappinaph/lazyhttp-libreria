"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.httpConfiguration=exports.HttpConfiguration=void 0;const http_helpers_1=require("./http-helpers"),http_cache_1=require("./http-cache"),http_metrics_index_1=require("./metrics/http-metrics-index"),http_streaming_1=require("./http-streaming");class HttpConfiguration{constructor(){this.defaultTimeout=1e4,this.defaultRetries=0,this.defaultHeaders={}}async initialize(t){return(null==t?void 0:t.baseUrl)&&(this.baseUrl=t.baseUrl),(null==t?void 0:t.frontendUrl)&&(this.frontendUrl=t.frontendUrl),void 0!==(null==t?void 0:t.timeout)&&(this.defaultTimeout=t.timeout),void 0!==(null==t?void 0:t.retries)&&(this.defaultRetries=t.retries),(null==t?void 0:t.headers)&&(this.defaultHeaders={...this.defaultHeaders,...t.headers}),(null==t?void 0:t.proxy)&&(this.proxyConfig=t.proxy,this.configureProxy(t.proxy)),(null==t?void 0:t.stream)&&(this.streamConfig=t.stream,this.configureStream(t.stream)),(null==t?void 0:t.cache)&&this.configureCaching(t.cache),(null==t?void 0:t.metrics)&&this.configureMetrics(t.metrics),(0,http_helpers_1.initialize)()}configureCaching(t){http_cache_1.cacheManager.configure(t)}invalidateCache(t){http_cache_1.cacheManager.invalidate(t)}invalidateCacheByTags(t){http_cache_1.cacheManager.invalidateByTags(t)}configureMetrics(t){http_metrics_index_1.metricsManager.configure(t)}trackActivity(t){http_metrics_index_1.metricsManager.trackActivity(t)}getCurrentMetrics(){return http_metrics_index_1.metricsManager.getCurrentMetrics()}configureProxy(t){this.proxyConfig=t,http_streaming_1.streamingManager.configure({proxyConfig:t})}configureStream(t){this.streamConfig=t,http_streaming_1.streamingManager.configure({streamConfig:t})}}exports.HttpConfiguration=HttpConfiguration,exports.httpConfiguration=new HttpConfiguration;