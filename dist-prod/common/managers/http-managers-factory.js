"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HttpManagersFactory=void 0;class HttpManagersFactory{static createCacheManager(e){return{enabled:e.enabled,ttl:e.ttl||3e5,maxSize:e.maxSize||100,storage:e.storage||"memory",generateCacheKey(e,r,t){const a=e.toUpperCase();if(!t||["GET","HEAD","OPTIONS"].includes(a))return`${a}:${r}`;const o="string"==typeof t?t:JSON.stringify(t);return`${a}:${r}:${this.hashString(o)}`},hashString(e){let r=0;for(let t=0;t<e.length;t++){r=(r<<5)-r+e.charCodeAt(t),r|=0}return Math.abs(r).toString(16)},get:e=>{throw new Error("Método no implementado")},set:(e,r,t)=>{throw new Error("Método no implementado")},has:e=>{throw new Error("Método no implementado")},delete:e=>{throw new Error("Método no implementado")},clear:()=>{throw new Error("Método no implementado")},invalidateByPattern:e=>{throw new Error("Método no implementado")},invalidateByTags:e=>{throw new Error("Método no implementado")}}}static createInterceptorsManager(){const e=[],r=[];return{setupInterceptors(t,a){t&&("request"!==a&&a||e.push(t),"response"!==a&&a||r.push(t))},getRequestInterceptors:()=>[...e],getResponseInterceptors:()=>[...r],applyRequestInterceptors:r=>e.reduce(((e,r)=>r(e)),r),applyResponseInterceptors:e=>r.reduce(((e,r)=>r(e)),e)}}static createMetricsManager(e){const r={requests:0,errors:0,cacheHits:0,cacheMisses:0,averageResponseTime:0,totalResponseTime:0};return{enabled:e.enabled,trackErrors:e.trackErrors||!0,trackPerformance:e.trackPerformance||!0,trackCache:e.trackCache||!0,trackRequest(t){e.enabled&&r.requests++},trackError(t){e.enabled&&e.trackErrors&&r.errors++},trackResponseTime(t){e.enabled&&e.trackPerformance&&(r.totalResponseTime+=t,r.averageResponseTime=r.totalResponseTime/r.requests)},trackCacheHit(){e.enabled&&e.trackCache&&r.cacheHits++},trackCacheMiss(){e.enabled&&e.trackCache&&r.cacheMisses++},getMetrics:()=>({...r}),trackActivity(r){e.enabled}}}static createStreamingManager(e){return{async stream(e,r){throw new Error("Método stream() debe ser implementado por la clase derivada")}}}}exports.HttpManagersFactory=HttpManagersFactory;